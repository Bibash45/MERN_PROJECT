<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Async await</title>
  </head>
  <body>
    <h2></h2>
    <script>
      const student = [
        { name: "bibash", age: 14 },
        { name: "ram", age: 17 },
        { name: "dipen", age: 11 },
      ];

      //define the showFunction()
      const showFunction = () => {
        setTimeout(() => {
          let result = "";
          student.forEach(
            (info) =>
              (result += `<ul>
        <li>${info.name}</li>
        <li>${info.age}</li>
        </ul>`)
          );
          document.querySelector("h2").innerHTML = result;
        }, 2000);
      };

      const addStudent = (newData) => {
        return new Promise((resolve, reject) => {
          setTimeout(() => {
            student.push(newData);
            const error = false;
            if (!error) {
              resolve();
            } else {
              reject("something went wrong");
            }
          }, 3000);
        });
      };

      // call addStudent

      const demoFunction = async () => {
        await addStudent({ name: "sita", age: 20 });
        showFunction();
      };

      demoFunction();
    </script>
  </body>
</html>
